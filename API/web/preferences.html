<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Préférences</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.14.2/themes/base/jquery-ui.css">
  <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
  <script src="https://code.jquery.com/ui/1.14.2/jquery-ui.js"></script>
  <script src="node-auth/js/app.js"></script>
  <script src="header-ui.js" defer></script>
  <script src="header-ui.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script>
    $(document).ready(function() {
        const userId = localStorage.getItem("userId");
        const userName = localStorage.getItem("userName");
        if (userId) {
            console.log("Utilisateur connecté avec l'ID :", userId);
            $('#bienvenue-msg').text(`Bonjour ${userName} !`);
        } else {
            window.location.href = "connexion.html";
        }
    });
  </script>
</head>

<body class="preferences">
    <header>
        <a href="accueil.html"><h2>MuSE</h2></a> 
        <nav>
            <a href="accueil.html">Accueil</a>
            <a href="playlists.html">Playlists</a>
            <a href="preferences.html">Préférences</a>
                
            <div class="dropdown">
                <a href="#">API ▾</a>
                <div class="dropdown-content">
                    <a href="api-installation.html">Installation</a>
                    <a href="api-documentation.html">Documentation</a>
                    <a href="api-test.html">Testez l'API</a>
                </div>
            </div>
        </nav>

        <div class="header-right">
    
        <div id="auth-buttons" class="connexion-inscription">
            <a href="connexion.html?mode=login">Connexion</a>
            <button>
                <a href="connexion.html?mode=register">Inscription</a>
            </button>
        </div>

        <div id="user-menu" class="user-dropdown hidden">
            <a href="#" id="user-name-display">Mon Profil ▾</a>
            
            <div class="dropdown-content user-dropdown-content">
                <a href="profil.html">Mon profil</a>
                <a href="#" id="logoutBtn" class="logout-link">Déconnexion</a>
            </div>
        </div>

    </div>
    </header>
  <main>
    <div class="page-header">
        <h1>Mes Préférences</h1>
    </div>
    <section class="preferences-container">
        <section class="search-section">
        <h2>Genres</h2>
        <div class="search-wrapper">
            <input type="text" id="genre" placeholder="Rechercher un genre">
        </div>
        <div class="selection-area">
            <h3>Genres sélectionnés</h3>
            <div id="selected-genres-list"></div>
        </div>
        </section>
        <section class="search-section">
            <h2>Artistes</h2>
            <div class="search-wrapper">
                <input type="text" id="artistes" placeholder="Rechercher un artiste">
            </div>
            <div class="selection-area">
                <h3>Artistes sélectionnés</h3>
                <div id="selected-artists-list"></div>
            </div>
        </section>
        <section class="search-section">
            <h2>Musiques</h2>
            <div class="search-wrapper">
                <input type="text" id="musique" placeholder="Rechercher une musique">
            </div>
            <div class="selection-area">
                <h3>Musiques sélectionnés</h3>
                <div id="selected-tracks-list"></div>
            </div>
        </section>
    </section>
    </main>
    <div class="actions-container">
        <button id="btn-reset" class="btn-reset" onclick="Reset()">Réinitialiser</button>
        <button id="btn-save" class="btn-save" onclick="Sauvegarde()">Sauvegarder</button>
    </div>
    <script src="script.js"></script>
  <footer>
        <div class="titre-footer">
            <h2>MuSE</h2>
        </div>
        <div class="navigation-footer">
            <div>
                <p>Société</p>
                <div>
                    <a href="#">À propos de nous</a>
                    <a href="#">Offre d'emploi</a>
                </div>
            </div>
            <div>
                <p>Liens utiles</p>
                <div>
                    <a href="contact.html">Nous contacter</a>
                </div>
            </div>
            <div>
                <p>Communauté</p>
                <div>
                    <a href="#">Développeurs</a>
                </div>
            </div>
            <div>
                <p>Légal</p>
                <div>
                    <a href="#">Mentions légales</a>
                </div>
            </div>
        </div>
        <div class="barre-separation-footer"></div>
        <div class="fin-footer">
            <div class="reseaux-sociaux-footer">
                <a href="#"><img src="../images/icones/instagram.avif" alt="Instagram"/></a>
                <a href="#"><img src="../images/icones/linkedin.avif" alt="LinkedIn"/></a>
                <a href="#"><img src="../images/icones/github.avif" alt="GitHub"/></a>
                <a href="#"><img src="../images/icones/facebook.avif" alt="Facebook"/></a>
            </div>
            <p>© 2026 MuSE Français</p>
        </div>
    </footer>
</body>
</html>
