<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Mes Playlists - MuSE</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.14.2/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://code.jquery.com/ui/1.14.2/jquery-ui.js"></script>
    <script src="script.js"></script>
    <script src="playlists.js"></script>
    <script src="audio-player.js"></script>
    <script>
        $(document).ready(function() {
            const userId = localStorage.getItem("userId");
            const userName = localStorage.getItem("userName");
            if (userId) {
                console.log("Utilisateur connecté avec l'ID :", userId);
                $('#bienvenue-msg').text(`Bonjour ${userName} !`);
            } else {
                window.location.href = "connexion.html";
            }
        });
    </script>
</head>
<body class="playlists-page">
    <header>
        <a href="accueil.html"><h2>MuSE</h2></a> 
        <nav>
            <a href="accueil.html">Accueil</a>
            <a href="playlists.html">Playlists</a>
            <a href="preferences.html">Préférences</a>
                
            <div class="dropdown">
                <a href="#">API ▾</a>
                <div class="dropdown-content">
                    <a href="api-installation.html">Installation</a>
                    <a href="api-documentation.html">Documentation</a>
                    <a href="api-test.html">Testez l'API</a>
                </div>
            </div>
        </nav>
        <div class="connexion-inscription">
            <a href="connexion.html">Connexion</a>
            <button>
                <a href="connexion.html">Inscription</a>
            </button>
        </div>
    </header>

    <main>
        <div class="page-header">
            <h1>Mes Playlists</h1>
            <p>Créez et gérez vos playlists personnalisées</p>
        </div>

        <section class="create-playlist-section">
            <h2>Créer une nouvelle playlist</h2>
            
            <div class="playlist-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="playlist-name-input">Nom de la playlist *</label>
                        <input type="text" id="playlist-name-input" placeholder="Ex: Mes favoris 2026">
                    </div>
                    <div class="form-group">
                        <label for="playlist-description-input">Description</label>
                        <input type="text" id="playlist-description-input" placeholder="Description de la playlist">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="track-search-input">Rechercher des musiques à ajouter</label>
                    <input type="text" id="track-search-input" placeholder="Rechercher par titre, artiste ou album...">
                    <small>Commencez à taper pour rechercher (minimum 2 caractères)</small>
                </div>
                
                <div class="selected-tracks-section">
                    <h3>Musiques sélectionnées <span id="selected-count">(0)</span></h3>
                    <div id="selected-tracks-container">
                        <p class="no-selection">Aucune musique sélectionnée</p>
                    </div>
                </div>
                
                <button id="create-playlist-button">
                    <span class="icon">➕</span> Créer la playlist
                </button>
            </div>
        </section>

        <section class="my-playlists-section">
            <h2>Vos Playlists</h2>
            <div class="playlists-container">
            </div>
        </section>

        <section class="generated-playlists-section">
            <h2>Concotées rien que pour vous</h2>
            <div class="generated-header">
                <button id="generate-playlist-btn">
                    <span class="icon">✨</span> Générer une playlist
                </button>
            </div>
            <div class="generated-playlists-container">
            </div>
        </section>
    </main>

    <footer>
        <div class="titre-footer">
            <h2>MuSE</h2>
        </div>
        <div class="navigation-footer">
            <div>
                <p>Société</p>
                <div>
                    <a href="#">À propos de nous</a>
                    <a href="#">Offre d'emploi</a>
                </div>
            </div>
            <div>
                <p>Liens utiles</p>
                <div>
                    <a href="contact.html">Nous contacter</a>
                </div>
            </div>
            <div>
                <p>Communauté</p>
                <div>
                    <a href="#">Développeurs</a>
                </div>
            </div>
            <div>
                <p>Légal</p>
                <div>
                    <a href="#">Mentions légales</a>
                </div>
            </div>
        </div>
        <div class="barre-separation-footer"></div>
        <div class="fin-footer">
            <div class="reseaux-sociaux-footer">
                <a href="#"><img src="../images/icones/instagram.avif" alt="Instagram"/></a>
                <a href="#"><img src="../images/icones/linkedin.avif" alt="LinkedIn"/></a>
                <a href="#"><img src="../images/icones/github.avif" alt="GitHub"/></a>
                <a href="#"><img src="../images/icones/facebook.avif" alt="Facebook"/></a>
            </div>
            <p>© 2026 MuSE Français</p>
        </div>
    </footer>

    <style>
        .playlists-page {
            background-color: #fafafa;
        }

        .page-header {
            text-align: center;
            padding: 40px 20px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin-bottom: 30px;
        }

        .page-header h1 {
            font-family: 'Rammetto One', sans-serif;
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: white;
        }

        .page-header p {
            font-size: 1.1rem;
            opacity: 0.95;
        }

        .playlists-page h2 {
            font-family: 'Rammetto One', sans-serif;
            font-size: 1.5rem;
            margin: 30px 30px 20px;
            color: var(--noir);
            position: relative;
            padding-bottom: 10px;
        }

        .playlists-page h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: var(--orange);
        }

        .create-playlist-section {
            background-color: white;
            border-radius: 20px;
            margin: 20px 30px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.03);
        }

        .playlist-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-row {
            display: flex;
            gap: 20px;
        }

        .form-group {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            font-weight: 600;
            color: var(--noir);
        }

        .form-group small {
            color: #888;
            font-size: 0.8rem;
        }

        .generated-header {
            margin: 20px 30px;
        }

        #generate-playlist-btn {
            background: linear-gradient(135deg, var(--orange), var(--orange-fonce));
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        #generate-playlist-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(237, 122, 38, 0.4);
        }

        .generated-playlists-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            padding: 0 30px 30px;
        }

        #auth-button {
            background-color: var(--orange);
            font-family: 'Outfit', sans-serif;
            font-size: 1.25rem;
            font-weight: bold;
            border-radius: 0.313em;
            border: none;
            width: 5.5em;
            height: 1.9em;
        }

        #auth-button a {
            color: var(--blanc);
            text-decoration: none;
        }

        .active {
            color: var(--orange) !important;
        }

        .modal {
            z-index: 900;
        }
    </style>
</body>
</html>